<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Pet_Care_Assistant.ViewModels"
             xmlns:models="clr-namespace:Pet_Care_Assistant.Models"
             x:Class="Pet_Care_Assistant.Views.PetFormPage"
             Title="All pets"
             BackgroundColor="#F5F5F5">
    
    
    <!--<VerticalStackLayout Padding="20">
        

        <CollectionView ItemsSource="{Binding PetsList}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="10" Margin="5" BorderColor="LightGray" CornerRadius="10">
                        <VerticalStackLayout>
                            <Label Text="{Binding Name}" FontAttributes="Bold" FontSize="16" />
                            --><!--<Label Text="{Binding Species}" />--><!--
                            <Label Text="{Binding Breed}" />
                            <HorizontalStackLayout>
                                <Label Text="Age: " />
                                <Label Text="{Binding AgeDisplayDetailed}" />
                            </HorizontalStackLayout>

                           

                                <HorizontalStackLayout>
                                <Label Text="Owner: " />
                                <Label Text="{Binding OwnerName}" />
                            </HorizontalStackLayout>
                            <HorizontalStackLayout>
                                <Label Text="Contact: " />
                                <Label Text="{Binding OwnerContact}" />
                            </HorizontalStackLayout>

                            <Image Source="{Binding PhotoPath}"
                               HeightRequest="100"
                               WidthRequest="100"
                               Aspect="AspectFill"
                               Margin="0,5,10,0"
                               BackgroundColor="LightGray" />

                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>-->

    <VerticalStackLayout Padding="15" Spacing="15">
        
        <!--<CollectionView ItemsSource="{Binding PetsList}" 
                        SelectionMode="None"
                        Margin="0,5"
                        ItemSpacing="12">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="8"
                   BackgroundColor="White"
                   BorderColor="#E0E0E0"
                   CornerRadius="12"
                   HasShadow="True">
                        <Grid ColumnDefinitions="80, *" RowDefinitions="Auto,Auto,Auto,Auto">
                            --><!-- Pet Image --><!--
                            <Image Source="{Binding PhotoPath}" 
                           HeightRequest="60"
                           WidthRequest="60"
                           Aspect="AspectFill"
                           VerticalOptions="Start"
                           HorizontalOptions="Center"
                           Margin="0,0,10,0">
                                <Image.Clip>
                                    <EllipseGeometry Center="30,30" RadiusX="30" RadiusY="30"/>
                                </Image.Clip>
                            </Image>

                            --><!-- Pet Info --><!--
                            <VerticalStackLayout Grid.Column="1" Spacing="2">
                                <Label Text="{Binding Name}" 
                               FontAttributes="Bold" 
                               FontSize="16" 
                               TextColor="#333333"/>
                                <Label Text="{Binding Breed}" 
                               FontSize="13" 
                               TextColor="#666666"/>
                                <Label Text="{Binding AgeDisplayDetailed}" 
                               FontSize="13" 
                               TextColor="#666666"/>
                                <Label Text="{Binding OwnerName, StringFormat='Owner: {0}'}" 
                               FontSize="13" 
                               TextColor="#666666"/>
                                <Label Text="{Binding OwnerContact, StringFormat='Contact: {0}'}" 
                               FontSize="13" 
                               TextColor="#666666"/>
                            </VerticalStackLayout>
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>-->

        <CollectionView ItemsSource="{Binding PetsList}" SelectionMode="None">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <!-- Wrap Frame in a StackLayout to enforce spacing -->
                    <VerticalStackLayout Spacing="0" Margin="0,0,0,12">
                        <Frame Padding="8"
                       BackgroundColor="White"
                       BorderColor="#E0E0E0"
                       CornerRadius="12"
                       HasShadow="True">
                            <Grid ColumnDefinitions="80, *" RowDefinitions="Auto,Auto,Auto,Auto">
                                <!-- Pet Image -->
                                <Image Source="{Binding PhotoPath}" 
                               HeightRequest="60"
                               WidthRequest="60"
                               Aspect="AspectFill"
                               VerticalOptions="Start"
                               HorizontalOptions="Center"
                               Margin="0,0,10,0">
                                    <Image.Clip>
                                        <EllipseGeometry Center="30,30" RadiusX="30" RadiusY="30"/>
                                    </Image.Clip>
                                </Image>

                                <!-- Pet Info -->
                                <VerticalStackLayout Grid.Column="1" Spacing="2">
                                    <Label Text="{Binding Name}" 
                                   FontAttributes="Bold" 
                                   FontSize="16" 
                                   TextColor="#333333"/>
                                    <Label Text="{Binding Breed}" 
                                   FontSize="13" 
                                   TextColor="#666666"/>
                                    <Label Text="{Binding AgeDisplayDetailed}" 
                                   FontSize="13" 
                                   TextColor="#666666"/>
                                    <Label Text="{Binding OwnerName, StringFormat='Owner: {0}'}" 
                                   FontSize="13" 
                                   TextColor="#666666"/>
                                    <Label Text="{Binding OwnerContact, StringFormat='Contact: {0}'}" 
                                   FontSize="13" 
                                   TextColor="#666666"/>
                                </VerticalStackLayout>
                            </Grid>
                        </Frame>
                    </VerticalStackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>